<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RecyShred | Dashboard</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<div id="site-content">

  <header>
    <img src="logo.png" class="site-logo" alt="RecyShred Logo">

    <div class="brand-text">
      <h1>RecyShred</h1>
      <p>Turn Waste into Worth</p>
    </div>

    <button id="theme-toggle" class="theme-btn">ðŸŒ™ Dark Mode</button>
  </header>

  <nav>
    <a href="index.html">Home</a>
    <a href="dashboard.html" class="active">Dashboard</a>
    <a href="binstatus.html">Bin Status</a>
  </nav>

  <div class="dashboard-container">

    <div class="welcome-card">
      <h2>Welcome, Juan Dela Cruz</h2>
      <p>Current Balance: 120 RSC (â‚±120.00)</p>
    </div>

    <div class="stats-cards">

      <div class="stats-card">
        <h3>Total Weight Recycled</h3>
        <p>12 kg</p>
      </div>

      <div class="stats-card">
        <h3>Last Activity</h3>
        <p>June 12, 2025</p>
      </div>

      <div class="stats-card">
        <h3>Recycling Sessions</h3>
        <p>5 Sessions</p>
      </div>

      <div class="stats-card">
        <h3>Average Coins per Session</h3>
        <p>24 RSC</p>
      </div>

    </div>

    <div class="progress-section">
      <h3>Activity Progress</h3>
      <div class="progress-bar">
        <div class="progress-fill" style="width: 50%;"></div>
      </div>
      <p>50% towards daily target</p>
    </div>

    <div class="simulate-card">
      <h3>Simulate Recycling</h3>
      <label>Enter Weight (kg):</label>
      <input type="number" id="newWeight" placeholder="e.g. 2.5" />
      <button class="dashboard-btn" onclick="addRecycle()">Shred & Earn</button>
    </div>

  </div>
</div>

<script>
  const toggleBtn = document.getElementById("theme-toggle");

  if (toggleBtn) {
    toggleBtn.addEventListener("click", () => {
      document.body.classList.toggle("dark-mode");
      toggleBtn.textContent = document.body.classList.contains("dark-mode") ? "â˜€ï¸ Light Mode" : "ðŸŒ™ Dark Mode";
      localStorage.setItem("theme", document.body.classList.contains("dark-mode") ? "dark" : "light");
    });

    if (localStorage.getItem("theme") === "dark") {
      document.body.classList.add("dark-mode");
      toggleBtn.textContent = "â˜€ï¸ Light Mode";
    }
  }

  (function () {
    const header = document.querySelector("#site-content header");
    if (!header) return;

    const setHeaderHeight = () => {
      document.documentElement.style.setProperty("--header-h", header.offsetHeight + "px");
    };

    const onScroll = () => {
      document.body.classList.toggle("shrink-ui", window.scrollY > 40);
      requestAnimationFrame(setHeaderHeight);
    };

    window.addEventListener("load", () => { setHeaderHeight(); onScroll(); });
    window.addEventListener("resize", setHeaderHeight);
    window.addEventListener("scroll", onScroll, { passive: true });
  })();

  const ADMIN_TOKEN = "MY_SECURE_ADMIN_TOKEN";

  function isMobile() {
    return /Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent);
  }

  function isAdminPC() {
    return (window.location.hash || "") === "#admin=" + ADMIN_TOKEN;
  }

  if (!isMobile() && !isAdminPC()) {
    window.location.replace("index.html");
  }

  function addRecycle() {
    const w = parseFloat(document.getElementById("newWeight").value);
    if (isNaN(w) || w <= 0) {
      alert("Please enter a valid weight.");
      return;
    }
    alert("Simulated: " + w + " kg recycled! (Add your real logic here)");
  }
</script>

</body>
</html>
